<?xml version="1.0" encoding="utf-8"?>
<process name="Test Process 1" key="TestProcess1" xmlns="http://jbpm.org/4.2/jpdl">

    <start name="Start">
        <transition to="New"/>
    </start>

    <custom name="New" class="com.haulmont.workflow.core.activity.Assigner">
        <property name="role">
            <string value="Initiator"/>
        </property>
        <property name="description">
            <string value="msg://toAgreement.descr"/>
        </property>
        <transition name="ToAgreement" to="Agreement"/>
    </custom>

    <custom name="Agreement" class="com.haulmont.workflow.core.activity.ParallelAssigner">
        <property name="role">
            <string value="AgreementMember"/>
        </property>
        <property name="successTransition">
            <string value="Ok"/>
        </property>
        <property name="description">
            <string value="msg://toApproval.descr"/>
        </property>
        <transition name="Ok" to="Approval"/>
        <transition name="NotOk" to="New"/>
    </custom>

    <custom name="Approval" class="com.haulmont.workflow.core.activity.Assigner">
        <property name="role">
            <string value="Approval"/>
        </property>
        <property name="description">
            <string value="msg://approval.descr"/>
        </property>
        <transition name="Ok" to="Approved"/>
        <transition name="NotOk" to="New"/>
    </custom>

    <custom name="Approved" class="com.haulmont.workflow.core.activity.CardActivity">
        <transition to="End"/>
    </custom>

    <end name="End"/>

</process>